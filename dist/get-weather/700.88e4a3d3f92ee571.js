"use strict";(self.webpackChunkget_weather=self.webpackChunkget_weather||[]).push([[700],{700:(O,c,r)=>{r.r(c),r.d(c,{WeatherHomeModule:()=>W});var m=r(4006),s=r(3456),d=r(3919),p=r(4761),w=r(8708),u=r(8722),e=r(4650),g=r(8104),l=r(1737),f=r(5439);let y=(()=>{class a{constructor(t){this.utils=t,this.weatherData={},this.today=(new Date).getDate(),this.iconUrl="http://openweathermap.org/img/wn/",this.d1=[],this.d2=[],this.d3=[],this.d4=[],this.d5=[]}get weather(){return this.weatherData}set weather(t){this.weatherData=t}clearData(){this.weatherData.weatherFeed=[],this.d1=[],this.d2=[],this.d3=[],this.d4=[],this.d5=[]}prepareWeather(t){let i=t.list;return this.clearData(),i.forEach((n,h)=>{this.filterDayData(n)}),this.weatherData.weatherFeed=[this.d1[0],this.d2[0],this.d3[0],this.d4[0],this.d5[0]],this.weatherData.weatherFeed=this.weatherData.weatherFeed.filter(n=>void 0!==n),this.weatherData}filterDayData(t){let i=new Date(t.dt_txt).getDate(),n={date:f(t.dt_txt).format("MMM DD, h:mm A"),weatherTitle:t.weather[0].main,weatherSubTitle:t.weather[0].description,icon:this.getWeatherIconUrl(t.weather[0].icon),windSpeed:t.wind.speed,temperature:Math.floor(this.utils.convertKelvinToCelsius(t.main.feels_like))};switch(i){case this.today:this.d1.push(n);break;case this.today+1:this.d2.push(n);break;case this.today+2:this.d3.push(n);break;case this.today+3:this.d4.push(n);break;case this.today+4:this.d5.push(n)}}getWeatherIconUrl(t){return`${this.iconUrl}${t}@4x.png`}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(l.t))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var v=r(9554),D=r(3038),C=r(8268);const x=[{path:"",component:(()=>{class a{constructor(t,i,n,h,M){this.dataService=t,this.apiService=i,this.utils=n,this.router=h,this.weatherEngine=M,this.cities=u.D,this.selectedCity=this.dataService.value,this.currentWeatherData={},this.predictionData={},""===this.selectedCity.name&&this.router.navigate([""])}ngOnInit(){this.fetchWeather()}fetchWeather(){this.apiService.getWeatherData(this.selectedCity).subscribe({next:t=>{this.predictionData={},this.currentWeatherData=t.list[0],this.selectedCity=t.city,this.predictionData=this.weatherEngine.prepareWeather(t)},error:t=>{console.log(t)},complete:()=>console.info("complete")})}setCity(t){this.selectedCity=t,this.fetchWeather()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(g.D),e.Y36(p.s),e.Y36(l.t),e.Y36(s.F0),e.Y36(y))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-weather-home"]],decls:6,vars:6,consts:[[1,"city-selector"],[3,"cities","value","isActionNeeded","citySelector"],[1,"weather-card-wrapper"],[3,"weatherData","city"],[1,"prediction-box"],[3,"weatherData"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"app-city-selector",1),e.NdJ("citySelector",function(h){return i.setCity(h)}),e.qZA()(),e.TgZ(2,"div",2),e._UZ(3,"app-current-weather",3),e.TgZ(4,"div",4),e._UZ(5,"app-weather-prediction",5),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("cities",i.cities)("value",i.selectedCity.name)("isActionNeeded",!1),e.xp6(2),e.Q6J("weatherData",i.currentWeatherData)("city",i.selectedCity),e.xp6(2),e.Q6J("weatherData",i.predictionData.weatherFeed))},dependencies:[v.o,D.r,C.m],styles:[".city-selector[_ngcontent-%COMP%]{margin:100px 0 30px}.weather-card-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-footer{margin:0 -16px 2px}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card{min-height:300px;box-shadow:#00000059 0 5px 15px}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-title{color:#14b0ef}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-subtitle{color:#f11010;font-weight:500}.prediction-box[_ngcontent-%COMP%]     .mat-card{width:550px}@media (min-width: 320px) and (max-width: 425px){.city-selector[_ngcontent-%COMP%]{margin:20px 0 0}.city-selector[_ngcontent-%COMP%]     .mat-form-field{width:90%}.city-selector[_ngcontent-%COMP%]     .mat-card-actions{margin-bottom:0!important}.city-selector[_ngcontent-%COMP%]     .mat-card-content{margin-bottom:0!important}.weather-card-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-expansion-panel-header{font-size:14px}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-footer{margin:0 -16px 2px}.prediction-box[_ngcontent-%COMP%]     .mat-card{width:auto}}"]}),a})()}];let W=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[p.s],imports:[s.Bz.forChild(x),d.q,m.UX,w.m,d.q,s.Bz]}),a})()}}]);