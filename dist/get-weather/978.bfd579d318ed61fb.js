"use strict";(self.webpackChunkget_weather=self.webpackChunkget_weather||[]).push([[978],{3978:(O,c,r)=>{r.r(c),r.d(c,{WeatherHomeModule:()=>M});var m=r(9417),s=r(8498),d=r(1018),l=r(7554),w=r(5732),u=r(7066),e=r(4438),f=r(1534),p=r(7960),y=r(7586);let g=(()=>{class i{constructor(t){this.utils=t,this.weatherData={},this.today=(new Date).getDate(),this.iconUrl="http://openweathermap.org/img/wn/",this.d1=[],this.d2=[],this.d3=[],this.d4=[],this.d5=[]}get weather(){return this.weatherData}set weather(t){this.weatherData=t}clearData(){this.weatherData.weatherFeed=[],this.d1=[],this.d2=[],this.d3=[],this.d4=[],this.d5=[]}prepareWeather(t){let n=t.list;return this.clearData(),n.forEach((a,h)=>{this.filterDayData(a)}),this.weatherData.weatherFeed=[this.d1[0],this.d2[0],this.d3[0],this.d4[0],this.d5[0]],this.weatherData.weatherFeed=this.weatherData.weatherFeed.filter(a=>void 0!==a),this.weatherData}filterDayData(t){let n=new Date(t.dt_txt).getDate(),a={date:y(t.dt_txt).format("MMM DD, h:mm A"),weatherTitle:t.weather[0].main,weatherSubTitle:t.weather[0].description,icon:this.getWeatherIconUrl(t.weather[0].icon),windSpeed:t.wind.speed,temperature:Math.floor(this.utils.convertKelvinToCelsius(t.main.feels_like))};switch(n){case this.today:this.d1.push(a);break;case this.today+1:this.d2.push(a);break;case this.today+2:this.d3.push(a);break;case this.today+3:this.d4.push(a);break;case this.today+4:this.d5.push(a)}}getWeatherIconUrl(t){return`${this.iconUrl}${t}@4x.png`}static{this.\u0275fac=function(n){return new(n||i)(e.KVO(p.Q))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var D=r(5501),C=r(7917),v=r(2887);const x=[{path:"",component:(()=>{class i{constructor(t,n,a,h,o){this.dataService=t,this.apiService=n,this.utils=a,this.router=h,this.weatherEngine=o,this.cities=u.o,this.selectedCity=this.dataService.value,this.currentWeatherData={},this.predictionData={},""===this.selectedCity.name&&this.router.navigate([""])}ngOnInit(){this.fetchWeather()}fetchWeather(){this.apiService.getWeatherData(this.selectedCity).subscribe({next:t=>{this.predictionData={},this.currentWeatherData=t.list[0],this.selectedCity=t.city,this.predictionData=this.weatherEngine.prepareWeather(t)},error:t=>{console.log(t)},complete:()=>console.info("complete")})}setCity(t){this.selectedCity=t,this.fetchWeather()}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(f.u),e.rXU(l.G),e.rXU(p.Q),e.rXU(s.Ix),e.rXU(g))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-weather-home"]],decls:6,vars:6,consts:[[1,"city-selector"],[3,"citySelector","cities","value","isActionNeeded"],[1,"weather-card-wrapper"],[3,"weatherData","city"],[1,"prediction-box"],[3,"weatherData"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"app-city-selector",1),e.bIt("citySelector",function(o){return a.setCity(o)}),e.k0s()(),e.j41(2,"div",2),e.nrm(3,"app-current-weather",3),e.j41(4,"div",4),e.nrm(5,"app-weather-prediction",5),e.k0s()()),2&n&&(e.R7$(),e.Y8G("cities",a.cities)("value",a.selectedCity.name)("isActionNeeded",!1),e.R7$(2),e.Y8G("weatherData",a.currentWeatherData)("city",a.selectedCity),e.R7$(2),e.Y8G("weatherData",a.predictionData.weatherFeed))},dependencies:[D.k,C.r,v.r],styles:[".city-selector[_ngcontent-%COMP%]{margin:100px 0 30px}.weather-card-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-footer{margin:0 -16px 2px}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card{min-height:300px;box-shadow:#00000059 0 5px 15px}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-title{color:#14b0ef}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-subtitle{color:#f11010;font-weight:500}.prediction-box[_ngcontent-%COMP%]     .mat-card{width:550px}@media (min-width: 320px) and (max-width: 425px){.city-selector[_ngcontent-%COMP%]{margin:20px 0 0}.city-selector[_ngcontent-%COMP%]     .mat-form-field{width:90%}.city-selector[_ngcontent-%COMP%]     .mat-card-actions{margin-bottom:0!important}.city-selector[_ngcontent-%COMP%]     .mat-card-content{margin-bottom:0!important}.weather-card-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-expansion-panel-header{font-size:14px}.weather-card-wrapper[_ngcontent-%COMP%]     .mat-card-footer{margin:0 -16px 2px}.prediction-box[_ngcontent-%COMP%]     .mat-card{width:auto}}"]})}}return i})()}];let M=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({providers:[l.G],imports:[s.iI.forChild(x),d.G,m.X1,w.G,d.G,s.iI]})}}return i})()}}]);